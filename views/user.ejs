<%
  name = {
    fumen: ['nov', 'adv', 'exh', 'inf'],
    rank: ['D', 'C', 'B', 'A', 'AA', 'AAA'],
    clear: ['FAIL', 'CLR', 'H-CLR', 'UC', 'PUC'],
    count: {
      long: ['PLAY', 'CLEAR', 'UC', 'PUC'],
      short: ['PLAY', 'CL', 'UC', 'PUC'],
      class: ['play', 'clear', 'uc', 'puc']
    }
  };
%>
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title> asdf </title>
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="/!/public/css/main.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,300,700" />
  </head>
  <body>
    <input type="radio" name="aside" id="menu-toggle" class="hidden" />
    <input type="radio" name="aside" id="sort-toggle" class="hidden" />
    <input type="radio" name="aside" id="reset" class="hidden" />
    <div class="toolbar-decorator"> </div>
    <header>
      <div class="title">
        <div class="left">
          <span class="skill-level" data-skill-level="<%= meta.skill_no %>">
            <span class="skill-level-title">
              <%= meta.skill_name %>
            </span>
          </span>
          <h1>
            <%= meta.name %>
          </h1>
        </div>
        <div class="right">
          <dl>
            <dd>플레이</dd>
            <dt><%= meta.play %></dt>
            <dd>패킷</dd>
            <dt><%= meta.packet %></dt>
            <dd>블럭</dd>
            <dt><%= meta.block %></dt>
          </dl>
        </div>
      </div>
      <div class="stat">
        Stat
      </div>
    </header>
    <main>
      <ul class="list-song">
        <% for(var song in songs) { %>
          <% var song = songs[song]; %>
          <% for(var f in name.fumen) { %>
            <% var current = name.fumen[f]; %>
            <% var fumen = song[current]; %>
            <% if(fumen === undefined || fumen.score === undefined) continue; %>
            <li class="song <%= (song.isGravity && current == 'inf')? 'grv' : current %>">
              <img class="albumart"
                   src="http://<%= api.cdn + fumen.illust %>" />
              <div class="side">
                <dl>
                  <% for(var p=0; p<4; p++) { %>
                    <% var disabled = (p >= 2 && fumen.count[p] == 0)? 'disabled' : ''; %>
                    <% var len = (fumen.count[p] > 99)? 'short' : 'long'; %>
                    <dd class="<%= disabled %>">
                      <%= name.count[len][p] %>
                    </dd>
                    <dt class="<%= disabled %> count-<%= name.count.class[p] %>">
                      <%= fumen.count[p] %>
                    </dt>
                  <% } %>
                </dl>
              </div>
              <div class="top">
                <span class="level skew">
                  <span class="unskew">
                    <%= fumen.level %>
                  </span>
                </span>
                <h1> <%= song.title %> </h1>
                <h2> <%= song.artist %> </h2>
              </div>
              <div class="bottom">
                <span class="clear clear-<%= fumen.clear %>">
                  <span class="unskew"> <%= name.clear[fumen.clear] %> </span>
                </span><!--
             --><span class="rank rank-<%= fumen.rank %>">
                  <span class="unskew"> <%= name.rank[fumen.rank] %> </span>
                </span>
                <span class="score">
                  <%= fumen.score %>
                </span>
              </div>
            </li>
          <% } %>
        <% } %>
      </ul>
    </main>
    <nav>
      <label for="menu-toggle" class="nav-button">
        <svg class="icon" width="1.5em" height="1.5em" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
        </svg>
      </label>
      <span class="title">
        아즈인포
      </span>
      <label for="sort-toggle" class="nav-button right">
        <svg class="icon" width="1.5em" height="1.5em" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/>
        </svg>
      </label>
    </nav>
    <label for="reset" class="dim"> </label>
    <aside class="left">
      <div class="nav-header">
        <label for="reset" class="nav-button left">
          <svg class="icon" width="1.5em" height="1.5em" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </label>
        <span class="title">
          아즈인포
        </span>
      </div>
    </aside>
    <aside class="right">
      <div class="nav-header">
        <span class="title">
          정렬
        </span>
        <label for="reset" class="nav-button right">
          <svg class="icon" width="1.5em" height="1.5em" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/>
          </svg>
        </label>
      </div>
    </aside>
  </body>
</html>
